---
id: ios
title: iOS
permalink: installation/ios/index.html
---

## Add Couchbase Lite to your app

### Frameworks (iOS & tvOS)

1. [Download Couchbase Lite](http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile) for the platform your app is targeting.
2. Unzip the file.
3. Open the Couchbase Lite folder and drag **CouchbaseLite.framework** to the project navigator in Xcode.
4. In the **Choose options for adding these files** sheet, make sure that your app target is selected.

Couchbase Lite requires additional frameworks and libraries for building an app. These additional dependencies are added via Xcode build settings.

1. In the Xcode navigator, click on the project open the **Build Settings** tab.
2. Scroll to the **Linking** section, find the **Other Linker Flags** row and then add the flag **-ObjC** (be sure to use the capitalization shown).
3. Click the **Build Phases** tab.
4. Expand the **Link Binary With Libraries** section and add the following items.

    ```
    CFNetwork.framework
    Security.framework
    SystemConfiguration.framework
    libsqlite3.dylib
    libz.dylib
    libc++.dylib
    ```

### Frameworks (macOS)

For a macOS target, you'll need to make sure the framework is copied to your app's bundle. Follow the steps below.

1. Download the latest release of Couchbase Lite for iOS from [here](http://www.couchbase.com/nosql-databases/downloads#couchbase-mobile).
2. Open the **Build Settings** tab of your app target's settings.
3. In the **Linking** section, edit **Runpath Search Paths** and add `@loader_path/../Frameworks/`.
4. Now switch to the **Build Phases**.
5. Press the **Add Build Phase** button at the top of the window and create a new **Copy Files** phase.
    ![](../img/ios-copy-files-phase.png)
6. Set the phase's destination to **Frameworks**.
7. Press the **+** button below the phases' file list and select CouchbaseLite.framework to add it.

### Cocoapods

1. [Install Cocoapods](https://guides.cocoapods.org/using/getting-started.html)
2. In your `Podfile`, add the following.

    ```ruby
    pod 'couchbase-lite-ios', '~> 1.3.1'
    ```

3. Install the pods and open the .xcworkspace file generated by Cocoapods.

    ```ruby
    pod install
    ```

    The following pods are available to import different Couchbase Lite components.

    |Pod|Service|
    |:--|:------|
    |`couchbase-lite-ios/SQLite`|To use SQLite as the storage type. This is the default.|
    |`couchbase-lite-ios/SQLCipher`|To use SQLCipher as the storage type.|
    |`couchbase-lite-ios/ForestDB`|To use ForestDB as the storage type.|

### Carthage

1. [Install Carthage](https://github.com/Carthage/Carthage#installing-carthage)
2. Add github "couchbase/couchbase-lite-ios" to your Cartfile.
3. Run `carthage update`.
4. Drag `CouchbaseLite.framework` from the appropriate platform directory in `Carthage/Build/` to the "Embedded Binaries" section of your Xcode project's "General" settings.

> **Note:** To use the SDK in Swift files, you must import the framework in the bridging header (`#import <CouchbaseLite/CouchbaseLite.h>`).

## Getting Started

Create a new Xcode project and install Couchbase Lite by following one of the methods above.

<img src="../img/xcode-installation.png" class=center-image />

Open **ViewController.swift** in Xcode and add the following in the `viewDidLoad` method.

```swift
// Create a manager
let manager = CBLManager.sharedInstance()
// Create or open the database named app
let database = try! manager.databaseNamed("app")
// The properties that will be saved on the document
let properties = ["title": "Couchbase Mobile", "sdk": "iOS"]
// Create a new document
let document = database.createDocument()
// Save the document to the database
try! document.putProperties(properties)
// Log the document ID (generated by the database)
// and properties
print("Document ID :: \(document.documentID)")
print("Learning \(document.property(forKey: "sdk")!)")

// Create replicators to push & pull changes to & from Sync Gateway
let url = URL(string: "http://localhost:4984/hello")!
let push = database.createPushReplication(url)
let pull = database.createPullReplication(url)
push.continuous = true;
pull.continuous = true;

// Start replicators
push.start();
pull.start();
```

By default, Xcode 8 prints OS level diagnostic logs to the console. It adds considerable noise so you will go ahead and disable them before running the app. From the Xcode menu, open **Product > Scheme > Edit Scheme** and add the `OS_ACTIVITY_MODE`=`disable` environment viable.

<img src="../img/xcode-edit-scheme.png" class=center-image />

Build and run. You should see the document ID and property printed to the console. The document was successfully persisted to the database.

<img src="../img/xcode-running.png" class=center-image />
